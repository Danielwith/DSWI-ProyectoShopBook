@model IEnumerable<ShopBook.ViewModels.BoletaUsuario>

@{
    ViewBag.Title = "Reportes";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Reportes</h2>
<br />
<div class="box">

    @using (Html.BeginForm("Reportes", "Reporte", FormMethod.Get, new { @class = "row" }))
    {
        <div class="col-4 col-12-small">
            <h3>Filtrar</h3>
            <div class="form-group col-md-4">
                <span>Desde </span>
                <input type="date" class="form-control" name="dateini" id="iddateini">
            </div>
            <div class="form-group col-md-4">
                <span>hasta </span>
                <input type="date" class="form-control" name="dateend" id="iddateend">
            </div>
        </div>
        <div class="col-8 col-12-small">
            <h3>Buscar por Nombre</h3>
            <div class="form-group col-md-4">
                <input type="text" class="form-control" name="username" id="idusername">
            </div>
        </div>
        <div class="text-center">
            <br />
            <button type="submit" class="btn btn-dark btn-buscar" style="margin-left: 15px;">Buscar</button>
        </div>
    }
</div>
<div class="table-wrapper">
    <table>
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.nroBoleta)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.fechGene)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.nombre)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.email)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Count() == 0)
            {
                <tr>
                    <td colspan="4" style="text-align: center">No se encontraron boletas.</td>
                </tr>
            }
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.nroBoleta)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.fechGene)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.email)
                    </td>
                    <td>
                        @Html.ActionLink("Generar Reporte", "GeneratePDF", new { id = item.nroBoleta })
                    </td>
                </tr>
            }
        </tbody>

    </table>
</div>
